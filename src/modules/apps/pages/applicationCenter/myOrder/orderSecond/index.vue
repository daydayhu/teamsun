<template>
  <div class="addOrderSecond">
    <div class="content">
      <div class="right-c">
        <div class="canvas-c" ref="canvas-c">
          <div class="component-view" ref="component-view">
            <div class="component-view-header">
              <div class="point-c">▪︎ ▪︎ ▪︎</div>
              <div class="btn-c">
                <el-button type="text" @click="changCanvasScreenRate(0.75)"><svg-icon icon-class='screen_x'></svg-icon></el-button>
                <el-button type="text" @click="changCanvasScreenRate(0.5)"><svg-icon icon-class='screen_z'></svg-icon></el-button>
                <el-button type="text" @click="changCanvasScreenRate(0)"><svg-icon icon-class='screen_d'></svg-icon></el-button>
              </div>
            </div>
            <div class="component-view-content">
              <!--TODO: 此处放置component-->
              <!--              <FormComponents :formComponentInfo="formComponentInfo"></FormComponents>-->
            </div>
          </div>
          <OperationDialog v-if="operationDialogFlag" @closeOperationDialog="closeOperationDialog" ref="operationDialog"></OperationDialog>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="btn-c">
        <el-button>取 消</el-button>
        <el-button type="primary" @click="previous">上一步：基本信息</el-button>
        <el-button type="primary" @click="next" :loading="submitLoading">{{ submitLoading ? '提交中...' : '下一步：交付计划' }}
        </el-button>
      </div>
    </div>
  </div>
</template>

<script>
    //引入画布代码
    import '@/commons/js/HT/ht-common.js';
    import GraphView from '../ht/ddb-graphView';
    import Toolbar from '../../../../ht/ddb-toolbar';
    import '../ht/ddb-config';
    // 组件
    import TemplateDialog from './components/templateDialog';
    import OperationDialog from './components/operationDialog';
    // import FormComponents from '../../../components/formComponentContent.vue'
    // api
    // import * as requestMethod from '@/modules/apps/api/applicationCenter/myOrder.js';
    export default {
        name: 'addOrderSecond',
        data() {
            return {
                // 画布相关属性
                paletteList: null,
                canvas: {
                    palette: null,
                    graphView: null,
                    toolbar: null,
                },
                currentNodeData: null,
                currentOperationPosition: {
                    top: 0,
                    left: 0
                },
                app_id:2,
                ticket_id:3,
                formComponentInfo: null,
                submitLoading: false,
                defaultIconUrl: require('@/commons/images/default_icon.svg'),
                templateDialogFlag: false,
                operationDialogFlag: false
            };
        },
        created() {
            this.resetSteps();
            this.createCanvas();

        },
        async mounted() {
            // this.getDeliveryView();
            this.layoutCanvas();
            this.startCanvas();
            // this.getCanva();


        },
        methods: {
            resetSteps() {
                this.$emit("changeStep",1);
            },
            //--------------------------------画布相关--------------------------------------
            // 创建画布
            createCanvas() {
                // 1.创建拓扑组件
                let graphView = new GraphView(this);

                // 2.创建工具栏
                // let toolbar = new Toolbar(this);

                // 3.生成canvas
                this.canvas = {graphView};
            },
            // 布局画布
            layoutCanvas() {
                // 1 获取画布容器
                let containerDom = this.$refs['canvas-c'];
                // 2.创建视图
                // 2.2 创建底部视图
                let bottomView = this.$refs['component-view'];
                // 2.3 创建主视图
                let mainView = new ht.widget.SplitView(this.canvas.graphView.$graphView, bottomView, 'v', 0.7);
                this.canvas.mainView = mainView;
                // 2.4 配置视图样式
                mainView.setDividerBackground('#E7EDF3');
                mainView.setDragOpacity('1');
                let childNode = this.canvas.graphView._testCreateNode({name:'zhuxiujuan'}, 50 ,100);
                let childNode1 = this.canvas.graphView._testCreateNode({name:'zhuxiujuan'}, 200 ,100);
                let edge = this.canvas.graphView._testCreateEdge(childNode,childNode1);
                let dataModel = this.canvas.graphView.getDateModel();
                dataModel.add(childNode);
                dataModel.add(childNode1);
                dataModel.add(edge);
                mainView.getView().className = 'canvas-view';
                // 3 注入容器
                containerDom.appendChild(mainView.getView());
                // 4 布局变化事件监听
                mainView.addViewListener(function (e) {
                    if (e.kind === 'layout') {
                        let splitP = mainView.getPosition();
                        console.log('splitP', splitP);
                    }
                });
            },
            // 启动画布
            startCanvas() {
                for (let component of Object.values(this.canvas)) {
                    if (component.init) {
                        component.init();
                    }
                }
            },
            async getCanva(){
                this.canvas.graphView.deserialize(this.getJson());
                const node = this.getUuid();
                if(node){
                    this.canvas.graphView._addIconForNode(node, 'success');
                    this.canvas.graphView._createBarNode(node);
                    this.saveCanvas();
                    // this.canvas.graphView._addAttachesElementToCanvas(node);

                }
                // const res = await requestMethod.getDeliveryView('get', {app_id:1,ticket_id:8});
                // if(res.code === 200){
                //   this.canvas.graphView.deserialize(res.data.canva_data);
                // }else{
                //   this.$message.error(res.message || '获取画布失败');
                // }
            },

            async saveCanvas(){
                const canvas_text = JSON.stringify(JSON.parse(this.canvas.graphView.$graphView.dm().serialize()));
                const res = requestMethod.saveSystemsCanvas('post', {canvas_text,app_id:this.app_id,ticket_id:this.ticket_id,is_app_canvas:0,canvas_type:4});
                console.log(res);
                console.log(2222);
            },

            getUuid(){
                let node = this.canvas.graphView.getNodeByUUID('e6b31fe0-134d-4c15-8e24-1ba13961d293');
                return node
            },

            getJson(){
                //const json = {"v": "7.0.7-dev15", "p": {"autoAdjustIndex": true, "hierarchicalRendering": false}, "d": [{"c": "ht.Node", "i": 1001, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": -110, "y": 500}, "width": 27, "height": 25.5}}, {"c": "ht.Node", "i": 1002, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": 970, "y": 500}, "width": 27, "height": 25.5}}, {"c": "ht.Edge", "i": 1003, "p": {"source": {"__i": 1001}, "target": {"__i": 1000}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1004, "p": {"source": {"__i": 1001}, "target": {"__i": 998}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1005, "p": {"source": {"__i": 1001}, "target": {"__i": 996}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1006, "p": {"source": {"__i": 1001}, "target": {"__i": 993}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1007, "p": {"source": {"__i": 1001}, "target": {"__i": 992}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1008, "p": {"source": {"__i": 999}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1009, "p": {"source": {"__i": 997}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1010, "p": {"source": {"__i": 994}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1011, "p": {"source": {"__i": 993}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1012, "p": {"source": {"__i": 991}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Node", "i": 1000, "p": {"name": "VMvare", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 100}}, "s": {"label": "VMvare \u2014 \u7533\u8bf7VMware", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"VMvare-01": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["VMvare-01"]}}}, "a": {"name": "VMvare", "elementType": "node", "service_id": "01", "proType": 1, "image": "https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png", "canva_uuid": null, "set_uuid": "22", "uuid": "e6b31fe0-134d-4c15-8e24-1ba13961d293"}}, {"c": "ht.Node", "i": 999, "p": {"name": "VMvare", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 100}}, "s": {"label": "VMvare \u2014 \u90e8\u7f72VMware", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"VMvare-01": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["VMvare-01"]}}}, "a": {"name": "VMvare", "elementType": "node", "service_id": "01", "proType": 1, "image": "https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png", "canva_uuid": null, "set_uuid": "11", "uuid": "8c442840-a66c-43ba-9d38-f265e730958b"}}, {"c": "ht.Edge", "i": 998, "p": {"source": {"__i": 1000}, "target": {"__i": 999}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 998, "p": {"name": "VMware", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 400}}, "s": {"label": "VMware \u2014 \u542f\u52a8", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "VMware", "elementType": "node", "service_id": "01", "proType": 1, "image": null, "canva_uuid": null, "set_uuid": "ddd", "uuid": "afe2e478-bad4-4a30-b501-c2a3760eef89"}}, {"c": "ht.Node", "i": 997, "p": {"name": "VMware", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 400}}, "s": {"label": "VMware \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "VMware", "elementType": "node", "service_id": "01", "proType": 1, "image": null, "canva_uuid": null, "set_uuid": "33", "uuid": "8f4e05d0-7b72-4161-b4f0-d08054c26a8a"}}, {"c": "ht.Edge", "i": 996, "p": {"source": {"__i": 998}, "target": {"__i": 997}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 996, "p": {"name": "\u91d1\u5c5e\u88f8\u673a", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 500}}, "s": {"label": "\u91d1\u5c5e\u88f8\u673a \u2014 \u7533\u8bf7\u88f8\u673a", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u91d1\u5c5e\u88f8\u673a-01": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u91d1\u5c5e\u88f8\u673a-01"]}}}, "a": {"name": "\u91d1\u5c5e\u88f8\u673a", "elementType": "node", "service_id": "01", "proType": 1, "image": "http://172.16.193.32:9080/download/imgs/base_rhel(1).svg", "canva_uuid": null, "set_uuid": "55", "uuid": "1e0a378d-d649-4ed3-9be5-cac1aec61b1d"}}, {"c": "ht.Node", "i": 995, "p": {"name": "\u91d1\u5c5e\u88f8\u673a", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 500}}, "s": {"label": "\u91d1\u5c5e\u88f8\u673a \u2014 \u90e8\u7f72\u88f8\u673a", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u91d1\u5c5e\u88f8\u673a-01": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u91d1\u5c5e\u88f8\u673a-01"]}}}, "a": {"name": "\u91d1\u5c5e\u88f8\u673a", "elementType": "node", "service_id": "01", "proType": 1, "image": "http://172.16.193.32:9080/download/imgs/base_rhel(1).svg", "canva_uuid": null, "set_uuid": "55", "uuid": "343c4bde-684e-422e-803a-9cfc8bdd94e8"}}, {"c": "ht.Node", "i": 994, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 500}}, "s": {"label": "Tomcat \u2014 \u90e8\u7f72", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "02", "proType": 2, "image": null, "canva_uuid": null, "set_uuid": "54", "uuid": "43ea9d88-f0e3-4c61-a8dc-3f34486add81"}}, {"c": "ht.Edge", "i": 993, "p": {"source": {"__i": 996}, "target": {"__i": 995}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 992, "p": {"source": {"__i": 995}, "target": {"__i": 994}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 993, "p": {"name": "DB-Server", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 600}}, "s": {"label": "DB-Server \u2014 \u4f9d\u8d56\u5927\u5bb6", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "DB-Server", "elementType": "node", "service_id": "01", "proType": 1, "image": null, "canva_uuid": null, "set_uuid": "rr", "uuid": "7c8d68b9-dfbd-49dd-ae48-c53626f907b4"}}, {"c": "ht.Node", "i": 992, "p": {"name": "Apache\u5b89\u88c5", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 700}}, "s": {"label": "Apache\u5b89\u88c5 \u2014 \u90e8\u7f72", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Apache\u5b89\u88c5", "elementType": "node", "service_id": "01", "proType": 2, "image": null, "canva_uuid": null, "set_uuid": "77", "uuid": "745e214f-3c4d-4448-a042-2a8c55d95709"}}, {"c": "ht.Node", "i": 991, "p": {"name": "MySQL", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 700}}, "s": {"label": "MySQL \u2014 \u542f\u52a8", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "MySQL", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "rr", "uuid": "36c93c7d-66bd-4e0f-8f6b-ace968739f89"}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 992}, "target": {"__i": 991}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}]}
                //const json = {"v": "7.0.7-dev15", "p": {"autoAdjustIndex": true, "hierarchicalRendering": false}, "d": [{"c": "ht.Node", "i": 1001, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": -110, "y": 300}, "width": 27, "height": 25.5}}, {"c": "ht.Node", "i": 1002, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": 1240, "y": 300}, "width": 27, "height": 25.5}}, {"c": "ht.Edge", "i": 1003, "p": {"source": {"__i": 1001}, "target": {"__i": 1000}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1004, "p": {"source": {"__i": 1001}, "target": {"__i": 996}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1005, "p": {"source": {"__i": 1001}, "target": {"__i": 992}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1006, "p": {"source": {"__i": 1001}, "target": {"__i": 990}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1007, "p": {"source": {"__i": 997}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1008, "p": {"source": {"__i": 993}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1009, "p": {"source": {"__i": 991}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1010, "p": {"source": {"__i": 989}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Node", "i": 1000, "p": {"name": "VMware", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 100}}, "s": {"label": "VMware \u2014 \u7533\u8bf7", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "VMware", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "1302ecc4-e403-4888-aefd-079e846b969a", "uuid": "b3839c4f-ccab-4a85-ac8c-5f0efd8ed4a1"}}, {"c": "ht.Node", "i": 999, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 100}}, "s": {"label": "Tomcat \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "03", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "25d3c428-70ce-40a0-956f-49aca02fb262", "uuid": "74a36159-e49f-44fb-88ad-a88458a98aff"}}, {"c": "ht.Node", "i": 998, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 100}}, "s": {"label": "Tomcat \u2014 \u6ce8\u518c", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "03", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "20c6f939-c477-4ede-a583-89d908f639ee", "uuid": "b74629f5-5006-43da-83f6-e3c99c12dc1d"}}, {"c": "ht.Node", "i": 997, "p": {"name": "MySQL", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 970, "y": 100}}, "s": {"label": "MySQL \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "MySQL", "elementType": "node", "service_id": "02", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "6fc82f07-2ac3-4fe7-ba4e-d72a5567041b", "uuid": "3c105595-9a0c-49de-99b4-09c7cd7bcd9b"}}, {"c": "ht.Edge", "i": 996, "p": {"source": {"__i": 1000}, "target": {"__i": 999}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 995, "p": {"source": {"__i": 999}, "target": {"__i": 998}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 994, "p": {"source": {"__i": 998}, "target": {"__i": 997}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 996, "p": {"name": "\u88f8\u673a", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 200}}, "s": {"label": "\u88f8\u673a \u2014 \u6ce8\u518c", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "\u88f8\u673a", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "9129abf0-b3f8-4e7e-b84a-b66e9a705e54", "uuid": "613b95b9-3ebc-4d36-be56-d5729fb93640"}}, {"c": "ht.Node", "i": 995, "p": {"name": "Nginx", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 200}}, "s": {"label": "Nginx \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Nginx", "elementType": "node", "service_id": "02", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "7689f6b8-332a-43b2-a3d6-7b1220f3da8a", "uuid": "5e6f62e0-dc94-4ba1-8806-6ad8b8a6a3c1"}}, {"c": "ht.Node", "i": 994, "p": {"name": "Apache", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 200}}, "s": {"label": "Apache \u2014 \u7533\u8bf7", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"Apache-110": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["Apache-110"]}}}, "a": {"name": "Apache", "elementType": "node", "service_id": "110", "proType": 2, "image": "string", "canva_uuid": null, "set_uuid": "79035117-76cc-4894-bddc-72365aed424b", "uuid": "ca17aa92-5b3b-4527-a14a-600e3bb07f5d"}}, {"c": "ht.Node", "i": 993, "p": {"name": "Apache", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 970, "y": 200}}, "s": {"label": "Apache \u2014 \u90e8\u7f72", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"Apache-110": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["Apache-110"]}}}, "a": {"name": "Apache", "elementType": "node", "service_id": "110", "proType": 2, "image": "string", "canva_uuid": null, "set_uuid": "63dde9e4-bc54-4d85-8401-a4be85bde1f8", "uuid": "4fe6725d-7e07-428e-84af-ca2f8783dc1e"}}, {"c": "ht.Edge", "i": 992, "p": {"source": {"__i": 996}, "target": {"__i": 995}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 991, "p": {"source": {"__i": 995}, "target": {"__i": 994}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 994}, "target": {"__i": 993}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 992, "p": {"name": "\u7f51\u7edc\u7b56\u7565", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 300}}, "s": {"label": "\u7f51\u7edc\u7b56\u7565 \u2014 \u7f51\u7edc\u68c0\u6d4b", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u7f51\u7edc\u7b56\u7565-22": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u7f51\u7edc\u7b56\u7565-22"]}}}, "a": {"name": "\u7f51\u7edc\u7b56\u7565", "elementType": "node", "service_id": "22", "proType": 4, "image": "string", "canva_uuid": null, "set_uuid": "469604fc-0fd2-46ff-8ef0-3ed7978b54ba", "uuid": "02dafe12-abe8-4c16-a3ae-d2fca7ade609"}}, {"c": "ht.Node", "i": 991, "p": {"name": "\u7f51\u7edc\u7b56\u7565", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 300}}, "s": {"label": "\u7f51\u7edc\u7b56\u7565 \u2014 \u7533\u8bf7IP", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u7f51\u7edc\u7b56\u7565-22": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u7f51\u7edc\u7b56\u7565-22"]}}}, "a": {"name": "\u7f51\u7edc\u7b56\u7565", "elementType": "node", "service_id": "22", "proType": 4, "image": "string", "canva_uuid": null, "set_uuid": "ebe58681-77d2-4036-902c-e8cb570b9ae9", "uuid": "da241194-e584-4e3e-a942-89dfeb761950"}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 992}, "target": {"__i": 991}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 990, "p": {"name": "NetWork", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 400}}, "s": {"label": "NetWork \u2014 \u7b2c\u4e00\u6b65", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"NetWork-30": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["NetWork-30"]}}}, "a": {"name": "NetWork", "elementType": "node", "service_id": "30", "proType": 3, "image": "string", "canva_uuid": null, "set_uuid": "3f45a74e-3c44-4a3a-8aa0-3493312be92e", "uuid": "61951c8e-c53f-4ec7-8b1d-30ee9a35be7d"}}, {"c": "ht.Node", "i": 989, "p": {"name": "NetWork", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 400}}, "s": {"label": "NetWork \u2014 \u7b2c\u4e8c\u6b65", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"NetWork-30": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["NetWork-30"]}}}, "a": {"name": "NetWork", "elementType": "node", "service_id": "30", "proType": 3, "image": "string", "canva_uuid": null, "set_uuid": "95b5745f-ce25-415b-b5bb-8ff218660991", "uuid": "d7930762-81a8-40bb-9d06-c893e10167fd"}}, {"c": "ht.Edge", "i": 988, "p": {"source": {"__i": 990}, "target": {"__i": 989}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}]}
                // const json = {"v": "7.0.7-dev15", "p": {"autoAdjustIndex": true, "hierarchicalRendering": false}, "d": [{"c": "ht.Node", "i": 1001, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": -110, "y": 300}, "width": 27, "height": 25.5}}, {"c": "ht.Node", "i": 1002, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": 1240, "y": 300}, "width": 27, "height": 25.5}}, {"c": "ht.Edge", "i": 1003, "p": {"source": {"__i": 1001}, "target": {"__i": 1000}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1004, "p": {"source": {"__i": 1001}, "target": {"__i": 996}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1005, "p": {"source": {"__i": 1001}, "target": {"__i": 992}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1006, "p": {"source": {"__i": 1001}, "target": {"__i": 990}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1007, "p": {"source": {"__i": 997}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1008, "p": {"source": {"__i": 993}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1009, "p": {"source": {"__i": 991}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1010, "p": {"source": {"__i": 989}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Node", "i": 1000, "p": {"name": "VMware", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 100}}, "s": {"label": "VMware \u2014 \u7533\u8bf7", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "VMware", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "1302ecc4-e403-4888-aefd-079e846b969a", "uuid": "d05e9ef0-d814-4400-9e4b-39a4c6b97193"}}, {"c": "ht.Node", "i": 999, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 100}}, "s": {"label": "Tomcat \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "03", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "25d3c428-70ce-40a0-956f-49aca02fb262", "uuid": "0d80e1bc-d8f7-47e1-a80d-747f8f7b2e86"}}, {"c": "ht.Node", "i": 998, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 100}}, "s": {"label": "Tomcat \u2014 \u6ce8\u518c", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "03", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "20c6f939-c477-4ede-a583-89d908f639ee", "uuid": "670549f5-e8f4-4620-870c-d0d4349e0be3"}}, {"c": "ht.Node", "i": 997, "p": {"name": "MySQL", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 970, "y": 100}}, "s": {"label": "MySQL \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "MySQL", "elementType": "node", "service_id": "02", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "6fc82f07-2ac3-4fe7-ba4e-d72a5567041b", "uuid": "8a3c5534-7817-4b4b-ae8f-d28ec192c7ed"}}, {"c": "ht.Edge", "i": 996, "p": {"source": {"__i": 1000}, "target": {"__i": 999}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 995, "p": {"source": {"__i": 999}, "target": {"__i": 998}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 994, "p": {"source": {"__i": 998}, "target": {"__i": 997}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 996, "p": {"name": "\u88f8\u673a", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 200}}, "s": {"label": "\u88f8\u673a \u2014 \u6ce8\u518c", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "\u88f8\u673a", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "9129abf0-b3f8-4e7e-b84a-b66e9a705e54", "uuid": "488b1b24-24a3-4f3d-bd83-6855e7e1128b"}}, {"c": "ht.Node", "i": 995, "p": {"name": "Nginx", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 200}}, "s": {"label": "Nginx \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Nginx", "elementType": "node", "service_id": "02", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "7689f6b8-332a-43b2-a3d6-7b1220f3da8a", "uuid": "2197c175-15ea-4214-ba29-3df5dff0c4fd"}}, {"c": "ht.Node", "i": 994, "p": {"name": "Apache", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 200}}, "s": {"label": "Apache \u2014 \u7533\u8bf7", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"Apache-110": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["Apache-110"]}}}, "a": {"name": "Apache", "elementType": "node", "service_id": "110", "proType": 2, "image": "string", "canva_uuid": null, "set_uuid": "79035117-76cc-4894-bddc-72365aed424b", "uuid": "197973d9-d829-4cd5-bb9f-b62ef568df16"}}, {"c": "ht.Node", "i": 993, "p": {"name": "Apache", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 970, "y": 200}}, "s": {"label": "Apache \u2014 \u90e8\u7f72", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"Apache-110": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["Apache-110"]}}}, "a": {"name": "Apache", "elementType": "node", "service_id": "110", "proType": 2, "image": "string", "canva_uuid": null, "set_uuid": "63dde9e4-bc54-4d85-8401-a4be85bde1f8", "uuid": "22263cd8-c1ff-4166-9b23-9240153dc598"}}, {"c": "ht.Edge", "i": 992, "p": {"source": {"__i": 996}, "target": {"__i": 995}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 991, "p": {"source": {"__i": 995}, "target": {"__i": 994}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 994}, "target": {"__i": 993}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 992, "p": {"name": "\u7f51\u7edc\u7b56\u7565", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 300}}, "s": {"label": "\u7f51\u7edc\u7b56\u7565 \u2014 \u7f51\u7edc\u68c0\u6d4b", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u7f51\u7edc\u7b56\u7565-22": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u7f51\u7edc\u7b56\u7565-22"]}}}, "a": {"name": "\u7f51\u7edc\u7b56\u7565", "elementType": "node", "service_id": "22", "proType": 4, "image": "string", "canva_uuid": null, "set_uuid": "469604fc-0fd2-46ff-8ef0-3ed7978b54ba", "uuid": "94400fca-5f77-40a0-8260-be95d8c146fe"}}, {"c": "ht.Node", "i": 991, "p": {"name": "\u7f51\u7edc\u7b56\u7565", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 300}}, "s": {"label": "\u7f51\u7edc\u7b56\u7565 \u2014 \u7533\u8bf7IP", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u7f51\u7edc\u7b56\u7565-22": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u7f51\u7edc\u7b56\u7565-22"]}}}, "a": {"name": "\u7f51\u7edc\u7b56\u7565", "elementType": "node", "service_id": "22", "proType": 4, "image": "string", "canva_uuid": null, "set_uuid": "ebe58681-77d2-4036-902c-e8cb570b9ae9", "uuid": "82ca3fdc-6d2f-4c1c-b9b2-bef13f984561"}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 992}, "target": {"__i": 991}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 990, "p": {"name": "NetWork", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 400}}, "s": {"label": "NetWork \u2014 \u7b2c\u4e00\u6b65", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"NetWork-30": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["NetWork-30"]}}}, "a": {"name": "NetWork", "elementType": "node", "service_id": "30", "proType": 3, "image": "string", "canva_uuid": null, "set_uuid": "3f45a74e-3c44-4a3a-8aa0-3493312be92e", "uuid": "0cac13f0-1a9d-409b-a826-ddf8977a0aa8"}}, {"c": "ht.Node", "i": 989, "p": {"name": "NetWork", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 400}}, "s": {"label": "NetWork \u2014 \u7b2c\u4e8c\u6b65", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"NetWork-30": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["NetWork-30"]}}}, "a": {"name": "NetWork", "elementType": "node", "service_id": "30", "proType": 3, "image": "string", "canva_uuid": null, "set_uuid": "95b5745f-ce25-415b-b5bb-8ff218660991", "uuid": "06c38d4f-9e61-40df-a536-c38c7fe05abd"}}, {"c": "ht.Edge", "i": 988, "p": {"source": {"__i": 990}, "target": {"__i": 989}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}]}
                const json = {"v": "7.0.7-dev15", "p": {"autoAdjustIndex": true, "hierarchicalRendering": false}, "d": [{"c": "ht.Node", "i": 1001, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": -110, "y": 300}, "width": 27, "height": 25.5}}, {"c": "ht.Node", "i": 1002, "p": {"image": {"width": 10, "height": 10, "comps": [{"type": "circle", "rect": [0, 0, 10, 10], "borderWidth": 0.5, "borderColor": "rgba(0,0,0,1)", "background": "#fff"}]}, "position": {"x": 1240, "y": 300}, "width": 27, "height": 25.5}}, {"c": "ht.Edge", "i": 1003, "p": {"source": {"__i": 1001}, "target": {"__i": 1000}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1004, "p": {"source": {"__i": 1001}, "target": {"__i": 996}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1005, "p": {"source": {"__i": 1001}, "target": {"__i": 992}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1006, "p": {"source": {"__i": 1001}, "target": {"__i": 990}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "ortho"}}, {"c": "ht.Edge", "i": 1007, "p": {"source": {"__i": 997}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1008, "p": {"source": {"__i": 993}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Edge", "i": 1009, "p": {"source": {"__i": 991}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 1010, "p": {"source": {"__i": 989}, "target": {"__i": 1002}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.type": "h.v"}}, {"c": "ht.Node", "i": 1000, "p": {"name": "VMware", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 100}}, "s": {"label": "VMware \u2014 \u7533\u8bf7", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "VMware", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "1302ecc4-e403-4888-aefd-079e846b969a", "uuid": "76c7c902-2c1d-474e-b70e-817725d7640f"}}, {"c": "ht.Node", "i": 999, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 100}}, "s": {"label": "Tomcat \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "03", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "25d3c428-70ce-40a0-956f-49aca02fb262", "uuid": "c094cc1f-b495-47b5-84e6-dbaf1da23a70"}}, {"c": "ht.Node", "i": 998, "p": {"name": "Tomcat", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 100}}, "s": {"label": "Tomcat \u2014 \u6ce8\u518c", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Tomcat", "elementType": "node", "service_id": "03", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "20c6f939-c477-4ede-a583-89d908f639ee", "uuid": "5f0255ee-d8d1-449f-be37-4aeb4ce3abbd"}}, {"c": "ht.Node", "i": 997, "p": {"name": "MySQL", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 970, "y": 100}}, "s": {"label": "MySQL \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "MySQL", "elementType": "node", "service_id": "02", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "6fc82f07-2ac3-4fe7-ba4e-d72a5567041b", "uuid": "dd99440d-d712-4d15-845d-4475b9f68cb5"}}, {"c": "ht.Edge", "i": 996, "p": {"source": {"__i": 1000}, "target": {"__i": 999}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 995, "p": {"source": {"__i": 999}, "target": {"__i": 998}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 994, "p": {"source": {"__i": 998}, "target": {"__i": 997}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 996, "p": {"name": "\u88f8\u673a", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 200}}, "s": {"label": "\u88f8\u673a \u2014 \u6ce8\u518c", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "\u88f8\u673a", "elementType": "node", "service_id": "01", "proType": 1, "image": "", "canva_uuid": null, "set_uuid": "9129abf0-b3f8-4e7e-b84a-b66e9a705e54", "uuid": "f66a5e28-0428-4130-833c-93fd075ac542"}}, {"c": "ht.Node", "i": 995, "p": {"name": "Nginx", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 200}}, "s": {"label": "Nginx \u2014 \u5b89\u88c5", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"defaultIcon": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["defaultIcon"]}}}, "a": {"name": "Nginx", "elementType": "node", "service_id": "02", "proType": 2, "image": "", "canva_uuid": null, "set_uuid": "7689f6b8-332a-43b2-a3d6-7b1220f3da8a", "uuid": "8deab4c8-4e28-4f8c-a7ee-15abd1cabaa3"}}, {"c": "ht.Node", "i": 994, "p": {"name": "Apache", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 700, "y": 200}}, "s": {"label": "Apache \u2014 \u7533\u8bf7", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"Apache-110": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["Apache-110"]}}}, "a": {"name": "Apache", "elementType": "node", "service_id": "110", "proType": 2, "image": "string", "canva_uuid": null, "set_uuid": "79035117-76cc-4894-bddc-72365aed424b", "uuid": "135bb1ab-423d-41b8-85fd-6d27e246555f"}}, {"c": "ht.Node", "i": 993, "p": {"name": "Apache", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 970, "y": 200}}, "s": {"label": "Apache \u2014 \u90e8\u7f72", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"Apache-110": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["Apache-110"]}}}, "a": {"name": "Apache", "elementType": "node", "service_id": "110", "proType": 2, "image": "string", "canva_uuid": null, "set_uuid": "63dde9e4-bc54-4d85-8401-a4be85bde1f8", "uuid": "d7a7d1e3-eeb1-4bbe-9b4c-d2afd8aabc0b"}}, {"c": "ht.Edge", "i": 992, "p": {"source": {"__i": 996}, "target": {"__i": 995}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 991, "p": {"source": {"__i": 995}, "target": {"__i": 994}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 994}, "target": {"__i": 993}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 992, "p": {"name": "\u7f51\u7edc\u7b56\u7565", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 300}}, "s": {"label": "\u7f51\u7edc\u7b56\u7565 \u2014 \u7f51\u7edc\u68c0\u6d4b", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u7f51\u7edc\u7b56\u7565-22": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u7f51\u7edc\u7b56\u7565-22"]}}}, "a": {"name": "\u7f51\u7edc\u7b56\u7565", "elementType": "node", "service_id": "22", "proType": 4, "image": "string", "canva_uuid": null, "set_uuid": "469604fc-0fd2-46ff-8ef0-3ed7978b54ba", "uuid": "c1b85ec2-5f45-4849-aa9e-124a3f40fa21"}}, {"c": "ht.Node", "i": 991, "p": {"name": "\u7f51\u7edc\u7b56\u7565", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 300}}, "s": {"label": "\u7f51\u7edc\u7b56\u7565 \u2014 \u7533\u8bf7IP", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"\u7f51\u7edc\u7b56\u7565-22": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["\u7f51\u7edc\u7b56\u7565-22"]}}}, "a": {"name": "\u7f51\u7edc\u7b56\u7565", "elementType": "node", "service_id": "22", "proType": 4, "image": "string", "canva_uuid": null, "set_uuid": "ebe58681-77d2-4036-902c-e8cb570b9ae9", "uuid": "4c4a6711-1f1f-4e32-8c8a-3ab094495f8d"}}, {"c": "ht.Edge", "i": 990, "p": {"source": {"__i": 992}, "target": {"__i": 991}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}, {"c": "ht.Node", "i": 990, "p": {"name": "NetWork", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 160, "y": 400}}, "s": {"label": "NetWork \u2014 \u7b2c\u4e00\u6b65", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"NetWork-30": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["NetWork-30"]}}}, "a": {"name": "NetWork", "elementType": "node", "service_id": "30", "proType": 3, "image": "string", "canva_uuid": null, "set_uuid": "3f45a74e-3c44-4a3a-8aa0-3493312be92e", "uuid": "70e25e44-d3c5-47f6-b9e7-cc5d1bf2e8fd"}}, {"c": "ht.Node", "i": 989, "p": {"name": "NetWork", "image": {"width": 230, "height": 55, "comps": [{"type": "roundRect", "rect": [0, 0, 230, 55], "borderWidth": 1, "borderColor": "#000000", "background": "#ffffff", "cornerRadius": 4}]}, "position": {"x": 430, "y": 400}}, "s": {"label": "NetWork \u2014 \u7b2c\u4e8c\u6b65", "label.position": 10, "label.offset.x": 50, "label.offset.y": 20, "icons": {"NetWork-30": {"position": 10, "direction": "east", "offsetX": 10, "offsetY": 15, "gap": 10, "width": 25, "height": 25, "names": ["NetWork-30"]}}}, "a": {"name": "NetWork", "elementType": "node", "service_id": "30", "proType": 3, "image": "string", "canva_uuid": null, "set_uuid": "95b5745f-ce25-415b-b5bb-8ff218660991", "uuid": "c284ba5b-9ac1-4adf-9dad-52f5df4a88eb"}}, {"c": "ht.Edge", "i": 988, "p": {"source": {"__i": 990}, "target": {"__i": 989}}, "s": {"edge.pattern": [2, 2], "edge.color": "rgba(0,0,0,1)", "edge.width": 1, "icons": {"fromArrow": {"width": 7, "height": 7, "position": 15, "keepOrien": true, "names": ["fromArrow"]}, "toArrow": {"width": 18, "height": 12, "position": 19, "keepOrien": true, "names": ["toArrow"]}}, "edge.offset": 4, "edge.source.position": 19, "edge.target.position": 15}}]}
                return json
            },


            // 拖拽时元素数据注入
            elementDragStart(e,node,key) {
                e.dataTransfer.setData("nodeId",node.serviceId);
                e.dataTransfer.setData("groupKey",key);
            },
            // 添加图元到画布
            addNodeForCanvas(node) {
                return new Promise((resolve, reject) => {
                    let res = { code: 200 };
                    let err = null;
                    if (res) {
                        resolve(res);
                    } else {
                        reject(err);
                    }
                })
            },
            // 删除图元从画布
            deleteNodeFromCanvas() {
                return new Promise((resolve, reject) => {
                    let res = { code: 200 };
                    let err = null;
                    if (res) {
                        resolve(res);
                    } else {
                        reject(err);
                    }
                })
            },
            // 保存画布
            saveCanvasData(data) {},

            //----------------------------------数据交互------------------------------------

            resetOperationDialogLayout() {
                this.$nextTick(()=> {
                    this.$refs.operationDialog.resetLayoutPosition(this.currentOperationPosition)
                })
            },
            //--------------------------------操作按钮--------------------------------------
            changCanvasScreenRate(position) {
                this.canvas.mainView.setPosition(position);
            },

            previous() {
                history.back();
            },
            next() {
                console.log('submit!');
                //更新并传入step变化的值
                this.$refs.theChild[0].saveData();
                this.$router.push({
                    path: '/applicationCenter/applicationSystem/addOrder/addOrderThird',
                    query: {
                        isAdd: this.$route.query.isAdd
                    }
                });
            }
        },
        components: {
            // TemplateDialog,
            // FormComponents,
            // OperationDialog
        }
    };
</script>

<style lang="less" scoped>
  .addOrderSecond {
    background-color: #ffffff;
    & > .content {
      @flex();
      height: 800px;
      .right-c {
        flex: 1;
        height: 100%;
        .canvas-c {
          height: 100%;
          position: relative;
          background-color: #ffffff;
          /deep/.canvas-view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
          }
          .component-view {
            position: absolute;
            bottom: 0;
            left: 0;
            padding-right: 20px;
            width: 100%;
            height: 30%;
            .component-view-header {
              @flex();
              position: relative;
              height: 40px;
              padding-right: 20px;
              .point-c {
                flex: 1;
                text-align: center;
              }
              .btn-c {
                @flex();
                justify-content: space-between;
                position: absolute;
                right: 0;
                width: 60px;
                height: 100%;
              }
            }
            .component-view-content {
              position: relative;
              height: calc(100% - 40px);
            }
          }

        }

      }
    }
    & > .footer {
      @flex();
      border-top: 1px solid @g-border-color;
      height: 50px;
      .btn-c {
        margin: 0 32px 0 auto;
      }
    }
  }
</style>
