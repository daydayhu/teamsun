!function(a){"use strict";var l="ht",x=a[l],t=Math,Y=t.max,Q=t.min,u=t.abs,s=t.atan2,n=(t.cos,t.sin,t.ceil),Z=x.Default,R=Z.getInternal(),r=x.List,I=R.Mat,e=R.getNodeRect,O=R.intersectionLineRect,g=Z.getDistance,F=Z.setEdgeType,m="left",V="right",N="top",y="bottom",i="edge.type",C="edge.gap",w="edge.center",L="edge.extend",h=function(u,D){return e(u,D).width},k=function(E,c){return e(E,c).height},G=function(T,p){return R.getEdgeAgentPosition(T,p._40I,p.s("edge.source.position"),p.s("edge.source.offset.x"),p.s("edge.source.offset.y"),p.s("edge.source.anchor.x"),p.s("edge.source.anchor.y"))},H=function(U,M){return R.getEdgeAgentPosition(U,M._41I,M.s("edge.target.position"),M.s("edge.target.offset.x"),M.s("edge.target.offset.y"),M.s("edge.target.anchor.x"),M.s("edge.target.anchor.y"))},K=function(r,z){var V=r.s(i),D=r.getEdgeGroup();if(D){var s=0;if(D.eachSiblingEdge(function(X){z.isVisible(X)&&X.s(i)==V&&s++}),s>1)return r.s(C)*(s-1)/2}return 0},E=function(u,q){var U=u.s(i),v=u.isLooped();if(!u.getEdgeGroup())return v?u.s(C):0;var J,z=0,x=0,P=0;return u.getEdgeGroup().getSiblings().each(function(N){N.each(function(Q){if(Q._40I===u._40I&&Q.s(i)==U&&q.isVisible(Q)){var h=Q.s(C);J?(x+=P/2+h/2,P=h):(J=Q,P=h),Q===u&&(z=x)}})}),v?x-z+P:z-x/2},j=function(G,i){var E=i.s("edge.corner.radius");return Z.toRoundedCorner(G,E)};R.addMethod(x.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),F("boundary",function(d,w,k,y){y||(w=-w);var A,i=G(k,d),h=H(k,d),b=e(k,d._40I),S=e(k,d._41I),L=new I(s(h.y-i.y,h.x-i.x)),j=g(i,h),u=i.x,M=i.y;return A=L.tf(0,w),i={x:A.x+u,y:A.y+M},A=L.tf(j,w),h={x:A.x+u,y:A.y+M},A=O(i,h,b),A&&(i={x:A[0],y:A[1]}),A=O(i,h,S),A&&(h={x:A[0],y:A[1]}),{points:new r([i,h])}}),F("ripple",function(v,b,F,z){z||(b=-b);var x=G(F,v),P=H(F,v),N=g(x,P),L=Q(v.s("edge.offset"),N/2),T=v.s("edge.ripple.size"),O=v.s("edge.ripple.length"),Z=v.s("edge.ripple.both"),A=v.s(w),E=v.s("edge.ripple.elevation"),K=new r,U=v.s("edge.ripple.straight")?null:new r,e=new I(s(P.y-x.y,P.x-x.x));z||(E=-E),N-=2*L,O>0&&(T=n(N/O));var u=N/T;U&&U.add(1);for(var q=0;T>q;q++)U&&U.add(3),0===q?K.add({x:L+u*q,y:A?0:b}):K.add({x:L+u*q,y:b}),K.add({x:L+u*q+u/2,y:E+b}),Z&&(E=-E);for(K.add({x:L+N,y:A?0:b}),q=0;q<K.size();q++){var $=e.tf(K.get(q));$.x+=x.x,$.y+=x.y,K.set(q,$)}return{points:K,segments:U}}),F("h.v",function(c,l,o){l=E(c,o);var X=new r,S=c.s(w),A=G(o,c),a=A.x,N=A.y,$=H(o,c),p=$.x,P=$.y,_=0,q=0,b=p-a,t=P-N;return S||(_=h(o,c._40I)/2,q=k(o,c._41I)/2),b>=0&&0>=t?(X.add({x:a+_,y:N+l}),X.add({x:p+l,y:N+l}),X.add({x:p+l,y:P+q})):0>=b&&t>=0?(X.add({x:a-_,y:N+l}),X.add({x:p+l,y:N+l}),X.add({x:p+l,y:P-q})):b>=0&&t>=0?(X.add({x:a+_,y:N+l}),X.add({x:p-l,y:N+l}),X.add({x:p-l,y:P-q})):(X.add({x:a-_,y:N+l}),X.add({x:p-l,y:N+l}),X.add({x:p-l,y:P+q})),j(X,c)}),F("v.h",function(z,K,g){K=E(z,g);var $=new r,v=z.s(w),s=G(g,z),a=s.x,u=s.y,M=H(g,z),o=M.x,P=M.y,F=0,x=0,_=o-a,n=P-u;return v||(F=h(g,z._41I)/2,x=k(g,z._40I)/2),_>=0&&0>=n?($.add({x:a+K,y:u-x}),$.add({x:a+K,y:P+K}),$.add({x:o-F,y:P+K})):0>=_&&n>=0?($.add({x:a+K,y:u+x}),$.add({x:a+K,y:P+K}),$.add({x:o+F,y:P+K})):_>=0&&n>=0?($.add({x:a-K,y:u+x}),$.add({x:a-K,y:P+K}),$.add({x:o-F,y:P+K})):($.add({x:a-K,y:u-x}),$.add({x:a-K,y:P+K}),$.add({x:o+F,y:P+K})),j($,z)}),F("ortho",function(S,x,V){var K=new r,Y=S.s(w),t=S.s("edge.ortho"),y=S._40I,s=S._41I,W=G(V,S),T=W.x,L=W.y,e=H(V,S),U=e.x,b=e.y,E=U-T,X=b-L,A=Y?0:h(V,y)/2,p=Y?0:k(V,y)/2,i=Y?0:h(V,s)/2,g=Y?0:k(V,s)/2,l=(E-(A+i)*(E>0?1:-1))*t,c=(X-(p+g)*(X>0?1:-1))*t;return u(E)<u(X)?E>=0&&0>=X?(K.add({x:T+x,y:L-p}),K.add({x:T+x,y:L+c+x-p}),K.add({x:U+x,y:L+c+x-p}),K.add({x:U+x,y:b+g})):0>=E&&X>=0?(K.add({x:T+x,y:L+p}),K.add({x:T+x,y:L+c+x+p}),K.add({x:U+x,y:L+c+x+p}),K.add({x:U+x,y:b-g})):E>=0&&X>=0?(K.add({x:T+x,y:L+p}),K.add({x:T+x,y:L+c-x+p}),K.add({x:U+x,y:L+c-x+p}),K.add({x:U+x,y:b-g})):(K.add({x:T+x,y:L-p}),K.add({x:T+x,y:L+c-x-p}),K.add({x:U+x,y:L+c-x-p}),K.add({x:U+x,y:b+g})):E>=0&&0>=X?(K.add({x:T+A,y:L+x}),K.add({x:T+l+x+A,y:L+x}),K.add({x:T+l+x+A,y:b+x}),K.add({x:U-i,y:b+x})):0>=E&&X>=0?(K.add({x:T-A,y:L+x}),K.add({x:T+l+x-A,y:L+x}),K.add({x:T+l+x-A,y:b+x}),K.add({x:U+i,y:b+x})):E>=0&&X>=0?(K.add({x:T+A,y:L+x}),K.add({x:T+l-x+A,y:L+x}),K.add({x:T+l-x+A,y:b+x}),K.add({x:U-i,y:b+x})):(K.add({x:T-A,y:L+x}),K.add({x:T+l-x-A,y:L+x}),K.add({x:T+l-x-A,y:b+x}),K.add({x:U+i,y:b+x})),j(K,S)}),F("flex",function(z,T,b){var E=new r,O=z.s("edge.flex")+K(z,b),_=z.s(w),N=z._40I,t=z._41I,F=G(b,z),R=F.x,d=F.y,A=H(b,z),S=A.x,q=A.y,v=S-R,l=q-d,M=_?0:h(b,N)/2,W=_?0:k(b,N)/2,Q=_?0:h(b,t)/2,B=_?0:k(b,t)/2,X=v>0?O:-O,L=l>0?O:-O;return u(v)<u(l)?v>=0&&0>=l?(E.add({x:R+T,y:d-W}),E.add({x:R+T,y:d+L+T-W}),E.add({x:S+T,y:q-L+T+B}),E.add({x:S+T,y:q+B})):0>=v&&l>=0?(E.add({x:R+T,y:d+W}),E.add({x:R+T,y:d+L+T+W}),E.add({x:S+T,y:q-L+T-B}),E.add({x:S+T,y:q-B})):v>=0&&l>=0?(E.add({x:R+T,y:d+W}),E.add({x:R+T,y:d+L-T+W}),E.add({x:S+T,y:q-L-T-B}),E.add({x:S+T,y:q-B})):(E.add({x:R+T,y:d-W}),E.add({x:R+T,y:d+L-T-W}),E.add({x:S+T,y:q-L-T+B}),E.add({x:S+T,y:q+B})):v>=0&&0>=l?(E.add({x:R+M,y:d+T}),E.add({x:R+X+T+M,y:d+T}),E.add({x:S-X+T-Q,y:q+T}),E.add({x:S-Q,y:q+T})):0>=v&&l>=0?(E.add({x:R-M,y:d+T}),E.add({x:R+X+T-M,y:d+T}),E.add({x:S-X+T+Q,y:q+T}),E.add({x:S+Q,y:q+T})):v>=0&&l>=0?(E.add({x:R+M,y:d+T}),E.add({x:R+X-T+M,y:d+T}),E.add({x:S-X-T-Q,y:q+T}),E.add({x:S-Q,y:q+T})):(E.add({x:R-M,y:d+T}),E.add({x:R+X-T-M,y:d+T}),E.add({x:S-X-T+Q,y:q+T}),E.add({x:S+Q,y:q+T})),j(E,z)}),F("extend.east",function(O,R,n){var o=new r,i=O.s(L)+K(O,n),$=O.s(w),V=G(n,O),p=V.x+($?0:h(n,O._40I)/2),u=V.y,v=H(n,O),s=v.x+($?0:h(n,O._41I)/2),A=v.y,y=Y(p,s)+i;return u>A?(o.add({x:p,y:u+R}),o.add({x:y+R,y:u+R}),o.add({x:y+R,y:A-R}),o.add({x:s,y:A-R})):(o.add({x:p,y:u-R}),o.add({x:y+R,y:u-R}),o.add({x:y+R,y:A+R}),o.add({x:s,y:A+R})),j(o,O)}),F("extend.west",function(n,k,R){var Y=new r,V=n.s(L)+K(n,R),e=n.s(w),S=G(R,n),d=S.x-(e?0:h(R,n._40I)/2),A=S.y,x=H(R,n),N=x.x-(e?0:h(R,n._41I)/2),T=x.y,M=Q(d,N)-V;return A>T?(Y.add({x:d,y:A+k}),Y.add({x:M-k,y:A+k}),Y.add({x:M-k,y:T-k}),Y.add({x:N,y:T-k})):(Y.add({x:d,y:A-k}),Y.add({x:M-k,y:A-k}),Y.add({x:M-k,y:T+k}),Y.add({x:N,y:T+k})),j(Y,n)}),F("extend.north",function(i,C,V){var d=new r,W=i.s(L)+K(i,V),z=i.s(w),o=G(V,i),X=o.x,Y=o.y-(z?0:k(V,i._40I)/2),Z=H(V,i),q=Z.x,D=Z.y-(z?0:k(V,i._41I)/2),p=Q(Y,D)-W;return X>q?(d.add({y:Y,x:X+C}),d.add({y:p-C,x:X+C}),d.add({y:p-C,x:q-C}),d.add({y:D,x:q-C})):(d.add({y:Y,x:X-C}),d.add({y:p-C,x:X-C}),d.add({y:p-C,x:q+C}),d.add({y:D,x:q+C})),j(d,i)}),F("extend.south",function(b,v,T){var M=new r,F=b.s(L)+K(b,T),D=b.s(w),C=G(T,b),J=C.x,A=C.y+(D?0:k(T,b._40I)/2),O=H(T,b),X=O.x,I=O.y+(D?0:k(T,b._41I)/2),d=Y(A,I)+F;return J>X?(M.add({y:A,x:J+v}),M.add({y:d+v,x:J+v}),M.add({y:d+v,x:X-v}),M.add({y:I,x:X-v})):(M.add({y:A,x:J-v}),M.add({y:d+v,x:J-v}),M.add({y:d+v,x:X+v}),M.add({y:I,x:X+v})),j(M,b)});var P=function(R,S,a,g,T){if(g.sort(function(e,s){var T=e.getSourceAgent()===S?e.getTargetAgent():e.getSourceAgent(),F=s.getSourceAgent()===S?s.getTargetAgent():s.getSourceAgent(),L=T.p(),Q=F.p();if(a===m||a===V){if(L.y>Q.y)return 1;if(L.y<Q.y)return-1}else{if(L.x>Q.x)return 1;if(L.x<Q.x)return-1}return Z.sortFunc(e.getId(),s.getId())}),T){for(var M,l,G,H=R.getSourceAgent(),b=R.getTargetAgent(),Y=0;Y<g.size();Y++){var F=g.get(Y);F.getSourceAgent()===H&&F.getTargetAgent()===b||F.getTargetAgent()===H&&F.getSourceAgent()===b?(l||(l=new r),l.add(F,0)):l?(G||(G=new r),G.add(F)):(M||(M=new r),M.add(F))}g.clear(),M&&g.addAll(M),l&&g.addAll(l),G&&g.addAll(G)}var E=g.indexOf(R),K=g.size(),P=R.s(C);return{side:a,index:E,size:K,offset:-P*(K-1)/2+P*E}},$=function(A,j,l,Z,U){var c=j.s(i);return P(j,l,Z,l.getAgentEdges().toList(function(y){return A.isVisible(y)&&y.s(i)===c}),U)},c=function(E,c){var p=E.getSourceAgent()===c?E.getTargetAgent():E.getSourceAgent(),k=c.p(),C=p.p(),P=C.x-k.x,Q=C.y-k.y;return P>0&&u(Q)<=P?V:0>P&&u(Q)<=-P?m:Q>0&&u(P)<=Q?y:N},D=function(d,k,u){var K=k.s(i),z=c(k,u);return P(k,u,z,u.getAgentEdges().toList(function(s){return d.isVisible(s)&&s.s(i)===K&&c(s,u)===z}))},M=function(K,n){var G=K.getSourceAgent()===n,b=G?K.getTargetAgent():K.getSourceAgent(),v=n.p(),i=b.p();return G?v.y>i.y?N:y:v.x<i.x?V:m},b=function(q,l,J){var z=l.s(i),b=M(l,J);return P(l,J,b,J.getAgentEdges().toList(function(d){return q.isVisible(d)&&d.s(i)===z&&M(d,J)===b}),b===V||b===y)},o=function(q,U){var $=q.getSourceAgent()===U,b=$?q.getTargetAgent():q.getSourceAgent(),F=U.p(),x=b.p();return $?F.x<x.x?V:m:F.y>x.y?N:y},T=function(h,q,Y){var Z=q.s(i),K=o(q,Y);return P(q,Y,K,Y.getAgentEdges().toList(function(d){return h.isVisible(d)&&d.s(i)===Z&&o(d,Y)===K}),K===V||K===y)},p=function(e,H,g){var J=e.getSourceAgent(),I=e.getTargetAgent(),d=J.getId()>I.getId(),x=d?I:J,t=d?J:I,F=x.p(),G=t.p(),o=g(H,e,x),W=g(H,e,t),n=e.s(w),Z=n?0:h(H,x)/2,a=n?0:h(H,t)/2,C=n?0:k(H,x)/2,u=n?0:k(H,t)/2,q=o.offset,$=W.offset,z=o.side,S=W.side,i=new r;return z===N?(i.add({x:F.x+q,y:F.y-C}),i.add({x:F.x+q,y:G.y+$}),S===m?i.add({x:G.x-a,y:G.y+$}):i.add({x:G.x+a,y:G.y+$})):z===y?(i.add({x:F.x+q,y:F.y+C}),i.add({x:F.x+q,y:G.y+$}),S===m?i.add({x:G.x-a,y:G.y+$}):i.add({x:G.x+a,y:G.y+$})):z===m?(i.add({x:F.x-Z,y:F.y+q}),i.add({x:G.x+$,y:F.y+q}),S===y?i.add({x:G.x+$,y:G.y+u}):i.add({x:G.x+$,y:G.y-u})):z===V&&(i.add({x:F.x+Z,y:F.y+q}),i.add({x:G.x+$,y:F.y+q}),S===y?i.add({x:G.x+$,y:G.y+u}):i.add({x:G.x+$,y:G.y-u})),d&&i.reverse(),j(i,e)};F("ortho2",function(G,c,u){var H,i,d=G.s(w),g=G.s("edge.ortho"),C=G.getSourceAgent(),q=G.getTargetAgent(),T=C.getId()>q.getId(),F=T?q:C,v=T?C:q,o=F.p(),s=v.p(),l=D(u,G,F),n=D(u,G,v),P=d?0:h(u,F)/2,M=d?0:k(u,F)/2,a=d?0:h(u,v)/2,R=d?0:k(u,v)/2,E=new r,z=l.offset,f=n.offset,p=l.side;return p===V?(H=s.y>o.y?-z:z,i=o.x+P+(s.x-a-o.x-P)*g,E.add({x:o.x+P,y:o.y+z}),E.add({x:i+H,y:o.y+z}),E.add({x:i+H,y:s.y+f}),E.add({x:s.x-a,y:s.y+f})):p===m?(H=s.y>o.y?-z:z,i=o.x-P-(o.x-P-s.x-a)*g,E.add({x:o.x-P,y:o.y+z}),E.add({x:i-H,y:o.y+z}),E.add({x:i-H,y:s.y+f}),E.add({x:s.x+a,y:s.y+f})):p===y?(H=s.x>o.x?-z:z,i=o.y+M+(s.y-R-o.y-M)*g,E.add({x:o.x+z,y:o.y+M}),E.add({x:o.x+z,y:i+H}),E.add({x:s.x+f,y:i+H}),E.add({x:s.x+f,y:s.y-R})):p===N&&(H=s.x>o.x?-z:z,i=o.y-M-(o.y-M-s.y-R)*g,E.add({x:o.x+z,y:o.y-M}),E.add({x:o.x+z,y:i-H}),E.add({x:s.x+f,y:i-H}),E.add({x:s.x+f,y:s.y+R})),T&&E.reverse(),j(E,G)},!0),F("flex2",function(I,W,c){var T,i=I.getSourceAgent(),s=I.getTargetAgent(),x=i.getId()>s.getId(),A=x?s:i,z=x?i:s,X=A.p(),R=z.p(),Y=D(c,I,A),d=D(c,I,z),G=I.s(w),E=I.s("edge.flex")+(Y.size-1)/2*I.s(C),O=G?0:h(c,A)/2,l=G?0:k(c,A)/2,B=G?0:h(c,z)/2,M=G?0:k(c,z)/2,F=new r,p=Y.offset,K=d.offset,H=Y.side;return H===V?(T=R.y>X.y?-p:p,F.add({x:X.x+O,y:X.y+p}),F.add({x:X.x+O+E+T,y:X.y+p}),F.add({x:R.x-B-E+T,y:R.y+K}),F.add({x:R.x-B,y:R.y+K})):H===m?(T=R.y>X.y?-p:p,F.add({x:X.x-O,y:X.y+p}),F.add({x:X.x-O-E-T,y:X.y+p}),F.add({x:R.x+B+E-T,y:R.y+K}),F.add({x:R.x+B,y:R.y+K})):H===y?(T=R.x>X.x?-p:p,F.add({x:X.x+p,y:X.y+l}),F.add({x:X.x+p,y:X.y+l+E+T}),F.add({x:R.x+K,y:R.y-M-E+T}),F.add({x:R.x+K,y:R.y-M})):H===N&&(T=R.x>X.x?-p:p,F.add({x:X.x+p,y:X.y-l}),F.add({x:X.x+p,y:X.y-l-E-T}),F.add({x:R.x+K,y:R.y+M+E-T}),F.add({x:R.x+K,y:R.y+M})),x&&F.reverse(),j(F,I)},!0),F("extend.north2",function(h,W,l){var i=h.getSourceAgent(),v=h.getTargetAgent(),S=i.getId()>v.getId(),t=S?v:i,g=S?i:v,_=t.p(),u=g.p(),p=$(l,h,t,N),m=$(l,h,g,N,!0),E=h.s(w),U=E?0:k(l,t)/2,b=E?0:k(l,g)/2,Z=p.offset,n=m.offset,O=h.s(L)+(p.size-1)/2*h.s(C),I=Q(_.y-U,u.y-b)-O+(_.x<u.x?Z:-Z),z=new r;return z.add({x:_.x+Z,y:_.y-U}),z.add({x:_.x+Z,y:I}),z.add({x:u.x+n,y:I}),z.add({x:u.x+n,y:u.y-b}),S&&z.reverse(),j(z,h)},!0),F("extend.south2",function(N,F,A){var t=N.getSourceAgent(),c=N.getTargetAgent(),n=t.getId()>c.getId(),_=n?c:t,V=n?t:c,O=_.p(),H=V.p(),g=$(A,N,_,y),E=$(A,N,V,y,!0),i=N.s(w),B=i?0:k(A,_)/2,z=i?0:k(A,V)/2,s=g.offset,q=E.offset,S=N.s(L)+(g.size-1)/2*N.s(C),W=Y(O.y+B,H.y+z)+S+(O.x>H.x?s:-s),e=new r;return e.add({x:O.x+s,y:O.y+B}),e.add({x:O.x+s,y:W}),e.add({x:H.x+q,y:W}),e.add({x:H.x+q,y:H.y+z}),n&&e.reverse(),j(e,N)},!0),F("extend.west2",function(G,t,s){var D=G.getSourceAgent(),V=G.getTargetAgent(),x=D.getId()>V.getId(),c=x?V:D,P=x?D:V,p=c.p(),z=P.p(),X=$(s,G,c,N),y=$(s,G,P,N,!0),k=G.s(w),I=k?0:h(s,c)/2,f=k?0:h(s,P)/2,S=X.offset,F=y.offset,_=G.s(L)+(X.size-1)/2*G.s(C),g=Q(p.x-I,z.x-f)-_+(p.y<z.y?S:-S),i=new r;return i.add({x:p.x-I,y:p.y+S}),i.add({x:g,y:p.y+S}),i.add({x:g,y:z.y+F}),i.add({x:z.x-f,y:z.y+F}),x&&i.reverse(),j(i,G)},!0),F("extend.east2",function(p,c,S){var O=p.getSourceAgent(),B=p.getTargetAgent(),i=O.getId()>B.getId(),x=i?B:O,V=i?O:B,K=x.p(),l=V.p(),E=$(S,p,x,N),A=$(S,p,V,N,!0),g=p.s(w),z=g?0:h(S,x)/2,o=g?0:h(S,V)/2,D=E.offset,T=A.offset,W=p.s(L)+(E.size-1)/2*p.s(C),X=Y(K.x+z,l.x+o)+W+(K.y>l.y?D:-D),Z=new r;return Z.add({x:K.x+z,y:K.y+D}),Z.add({x:X,y:K.y+D}),Z.add({x:X,y:l.y+T}),Z.add({x:l.x+o,y:l.y+T}),i&&Z.reverse(),j(Z,p)},!0),F("v.h2",function(W,H,v){return p(W,v,b)},!0),F("h.v2",function(v,P,b){return p(v,b,T)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);